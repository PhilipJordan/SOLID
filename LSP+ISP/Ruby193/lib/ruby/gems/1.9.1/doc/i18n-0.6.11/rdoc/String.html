<?xml version="1.0" encoding="IBM437"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <meta content="text/html; charset=IBM437" http-equiv="Content-Type" />

  <title>Class: String</title>

  <link rel="stylesheet" href="./rdoc.css" type="text/css" media="screen" />

  <script src="./js/jquery.js" type="text/javascript" charset="utf-8"></script>
  <script src="./js/thickbox-compressed.js" type="text/javascript" charset="utf-8"></script>
  <script src="./js/quicksearch.js" type="text/javascript" charset="utf-8"></script>
  <script src="./js/darkfish.js" type="text/javascript" charset="utf-8"></script>

</head>
<body id="top" class="class">

  <div id="metadata">
    <div id="home-metadata">
      <div id="home-section" class="section">
        <h3 class="section-header">
          <a href="./index.html">Home</a>
          <a href="./index.html#classes">Classes</a>
          <a href="./index.html#methods">Methods</a>
        </h3>
      </div>
    </div>

    <div id="file-metadata">
      <div id="file-list-section" class="section">
        <h3 class="section-header">In Files</h3>
        <div class="section-body">
          <ul>
          
            <li><a href="./lib/i18n/core_ext/string/interpolate_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
              class="thickbox" title="lib/i18n/core_ext/string/interpolate.rb">lib/i18n/core_ext/string/interpolate.rb</a></li>
          
          </ul>
        </div>
      </div>

      
    </div>

    <div id="class-metadata">
      
      <!-- Parent Class -->
      <div id="parent-class-section" class="section">
        <h3 class="section-header">Parent</h3>
        
        <p class="link">Object</p>
        
      </div>
      

      

      

      
      <!-- Method Quickref -->
      <div id="method-list-section" class="section">
        <h3 class="section-header">Methods</h3>
        <ul class="link-list">
          
          <li><a href="#method-i-25">#%</a></li>
          
          <li><a href="#method-i-interpolate_without_ruby_19_syntax">#interpolate_without_ruby_19_syntax</a></li>
          
        </ul>
      </div>
      

      
    </div>

    <div id="project-metadata">
      
      

      <div id="classindex-section" class="section project-section">
        <h3 class="section-header">Class/Module Index
          <span class="search-toggle"><img src="./images/find.png"
            height="16" width="16" alt="[+]"
            title="show/hide quicksearch" /></span></h3>
        <form action="#" method="get" accept-charset="utf-8" class="initially-hidden">
        <fieldset>
          <legend>Quicksearch</legend>
          <input type="text" name="quicksearch" value=""
            class="quicksearch-field" />
        </fieldset>
        </form>

        <ul class="link-list">
        
          <li><a href="./I18n.html">I18n</a></li>
        
          <li><a href="./I18n/ArgumentError.html">I18n::ArgumentError</a></li>
        
          <li><a href="./I18n/Backend.html">I18n::Backend</a></li>
        
          <li><a href="./I18n/Backend/Base.html">I18n::Backend::Base</a></li>
        
          <li><a href="./I18n/Backend/Cache.html">I18n::Backend::Cache</a></li>
        
          <li><a href="./I18n/Backend/Cascade.html">I18n::Backend::Cascade</a></li>
        
          <li><a href="./I18n/Backend/Chain.html">I18n::Backend::Chain</a></li>
        
          <li><a href="./I18n/Backend/Chain/Implementation.html">I18n::Backend::Chain::Implementation</a></li>
        
          <li><a href="./I18n/Backend/Fallbacks.html">I18n::Backend::Fallbacks</a></li>
        
          <li><a href="./I18n/Backend/Flatten.html">I18n::Backend::Flatten</a></li>
        
          <li><a href="./I18n/Backend/Gettext.html">I18n::Backend::Gettext</a></li>
        
          <li><a href="./I18n/Backend/Gettext/PoData.html">I18n::Backend::Gettext::PoData</a></li>
        
          <li><a href="./I18n/Backend/InterpolationCompiler.html">I18n::Backend::InterpolationCompiler</a></li>
        
          <li><a href="./I18n/Backend/InterpolationCompiler/Compiler.html">I18n::Backend::InterpolationCompiler::Compiler</a></li>
        
          <li><a href="./I18n/Backend/KeyValue.html">I18n::Backend::KeyValue</a></li>
        
          <li><a href="./I18n/Backend/KeyValue/Implementation.html">I18n::Backend::KeyValue::Implementation</a></li>
        
          <li><a href="./I18n/Backend/Memoize.html">I18n::Backend::Memoize</a></li>
        
          <li><a href="./I18n/Backend/Metadata.html">I18n::Backend::Metadata</a></li>
        
          <li><a href="./I18n/Backend/Pluralization.html">I18n::Backend::Pluralization</a></li>
        
          <li><a href="./I18n/Backend/Simple.html">I18n::Backend::Simple</a></li>
        
          <li><a href="./I18n/Backend/Simple/Implementation.html">I18n::Backend::Simple::Implementation</a></li>
        
          <li><a href="./I18n/Backend/Transliterator.html">I18n::Backend::Transliterator</a></li>
        
          <li><a href="./I18n/Backend/Transliterator/HashTransliterator.html">I18n::Backend::Transliterator::HashTransliterator</a></li>
        
          <li><a href="./I18n/Backend/Transliterator/ProcTransliterator.html">I18n::Backend::Transliterator::ProcTransliterator</a></li>
        
          <li><a href="./I18n/Config.html">I18n::Config</a></li>
        
          <li><a href="./I18n/ExceptionHandler.html">I18n::ExceptionHandler</a></li>
        
          <li><a href="./I18n/Gettext.html">I18n::Gettext</a></li>
        
          <li><a href="./I18n/Gettext/Helpers.html">I18n::Gettext::Helpers</a></li>
        
          <li><a href="./I18n/InvalidLocale.html">I18n::InvalidLocale</a></li>
        
          <li><a href="./I18n/InvalidLocaleData.html">I18n::InvalidLocaleData</a></li>
        
          <li><a href="./I18n/InvalidPluralizationData.html">I18n::InvalidPluralizationData</a></li>
        
          <li><a href="./I18n/Locale.html">I18n::Locale</a></li>
        
          <li><a href="./I18n/Locale/Fallbacks.html">I18n::Locale::Fallbacks</a></li>
        
          <li><a href="./I18n/Locale/Tag.html">I18n::Locale::Tag</a></li>
        
          <li><a href="./I18n/Locale/Tag/Parents.html">I18n::Locale::Tag::Parents</a></li>
        
          <li><a href="./I18n/Locale/Tag/Rfc4646.html">I18n::Locale::Tag::Rfc4646</a></li>
        
          <li><a href="./I18n/Locale/Tag/Rfc4646/Parser.html">I18n::Locale::Tag::Rfc4646::Parser</a></li>
        
          <li><a href="./I18n/Locale/Tag/Simple.html">I18n::Locale::Tag::Simple</a></li>
        
          <li><a href="./I18n/MissingInterpolationArgument.html">I18n::MissingInterpolationArgument</a></li>
        
          <li><a href="./I18n/MissingTranslation.html">I18n::MissingTranslation</a></li>
        
          <li><a href="./I18n/MissingTranslation/Base.html">I18n::MissingTranslation::Base</a></li>
        
          <li><a href="./I18n/MissingTranslationData.html">I18n::MissingTranslationData</a></li>
        
          <li><a href="./I18n/ReservedInterpolationKey.html">I18n::ReservedInterpolationKey</a></li>
        
          <li><a href="./I18n/Tests.html">I18n::Tests</a></li>
        
          <li><a href="./I18n/Tests/Basics.html">I18n::Tests::Basics</a></li>
        
          <li><a href="./I18n/Tests/Defaults.html">I18n::Tests::Defaults</a></li>
        
          <li><a href="./I18n/Tests/Interpolation.html">I18n::Tests::Interpolation</a></li>
        
          <li><a href="./I18n/Tests/Link.html">I18n::Tests::Link</a></li>
        
          <li><a href="./I18n/Tests/Localization.html">I18n::Tests::Localization</a></li>
        
          <li><a href="./I18n/Tests/Localization/Date.html">I18n::Tests::Localization::Date</a></li>
        
          <li><a href="./I18n/Tests/Localization/DateTime.html">I18n::Tests::Localization::DateTime</a></li>
        
          <li><a href="./I18n/Tests/Localization/Procs.html">I18n::Tests::Localization::Procs</a></li>
        
          <li><a href="./I18n/Tests/Localization/Time.html">I18n::Tests::Localization::Time</a></li>
        
          <li><a href="./I18n/Tests/Lookup.html">I18n::Tests::Lookup</a></li>
        
          <li><a href="./I18n/Tests/Pluralization.html">I18n::Tests::Pluralization</a></li>
        
          <li><a href="./I18n/Tests/Procs.html">I18n::Tests::Procs</a></li>
        
          <li><a href="./I18n/UnknownFileType.html">I18n::UnknownFileType</a></li>
        
          <li><a href="./GetText.html">GetText</a></li>
        
          <li><a href="./GetText/PoParser.html">GetText::PoParser</a></li>
        
          <li><a href="./Hash.html">Hash</a></li>
        
          <li><a href="./Kernel.html">Kernel</a></li>
        
          <li><a href="./KeyError.html">KeyError</a></li>
        
          <li><a href="./String.html">String</a></li>
        
        </ul>
        <div id="no-class-search-results" style="display: none;">No matching classes.</div>
      </div>

      
    </div>
  </div>

  <div id="documentation">
    <h1 class="class">String</h1>

    <div id="description" class="description">
      
<p>Extension for <a href="String.html">String</a> class. This feature is
included in Ruby 1.9 or later but not occur TypeError.</p>

<p>String#% method which accept "named argument". The translator can know the
meaning of the msgids using "named argument" instead of %s/%d style.</p>

    </div><!-- description -->

    
    
    
    <div id="5Buntitled-5D" class="documentation-section">
      

      

      
      <!-- Constants -->
      <div id="constants-list" class="section">
        <h3 class="section-header">Constants</h3>
        <dl>
        
          <dt><a name="INTERPOLATION_PATTERN">INTERPOLATION_PATTERN</a></dt>
          
          <dd class="description"></dd>
          
        
          <dt><a name="INTERPOLATION_PATTERN_WITH_ESCAPE">INTERPOLATION_PATTERN_WITH_ESCAPE</a></dt>
          
          <dd class="description"></dd>
          
        
        </dl>
      </div>
      

      

      <!-- Methods -->
      
      <div id="public-instance-method-details" class="method-section section">
        <h3 class="section-header">Public Instance Methods</h3>

      
        <div id="25-method" class="method-detail ">
          <a name="method-i-25"></a>

          
          <div class="method-heading">
            <span class="method-name">%</span><span
              class="method-args">(args)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>% uses self (i.e. the <a href="String.html">String</a>) as a format
specification and returns the result of applying it to the given arguments.
In other words it interpolates the given arguments to the string according
to the formats the string defines.</p>

<p>There are three ways to use it:</p>
<ul><li>
<p>Using a single argument or Array of arguments.</p>

<p>This is the default behaviour of the <a href="String.html">String</a>
class. See Kernel#sprintf for more details about the format string.</p>

<p>Example:</p>

<pre>&quot;%d %s&quot; % [1, &quot;message&quot;]
# =&gt; &quot;1 message&quot;</pre>
</li><li>
<p>Using a <a href="Hash.html">Hash</a> as an argument and unformatted, named
placeholders.</p>

<p>When you pass a <a href="Hash.html">Hash</a> as an argument and specify
placeholders with %{foo} it will interpret the hash values as named
arguments.</p>

<p>Example:</p>

<pre>&quot;%{firstname}, %{lastname}&quot; % {:firstname =&gt; &quot;Masao&quot;, :lastname =&gt; &quot;Mutoh&quot;}
# =&gt; &quot;Masao Mutoh&quot;</pre>
</li><li>
<p>Using a <a href="Hash.html">Hash</a> as an argument and formatted, named
placeholders.</p>

<p>When you pass a <a href="Hash.html">Hash</a> as an argument and specify
placeholders with %&lt;foo&gt;d it will interpret the hash values as named
arguments and format the value according to the formatting instruction
appended to the closing &gt;.</p>

<p>Example:</p>

<pre>&quot;%&lt;integer&gt;d, %&lt;float&gt;.1f&quot; % { :integer =&gt; 10, :float =&gt; 43.4 }
# =&gt; &quot;10, 43.3&quot;</pre>
</li></ul>
            

            
            <div class="method-source-code" id="25-source">
<pre>
<span class="ruby-comment"># File lib/i18n/core_ext/string/interpolate.rb, line 86</span>
<span class="ruby-keyword">def</span> <span class="ruby-operator">%</span>(<span class="ruby-identifier">args</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">Hash</span>)
    <span class="ruby-identifier">dup</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-constant">INTERPOLATION_PATTERN_WITH_ESCAPE</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">match</span><span class="ruby-operator">|</span>
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">match</span> <span class="ruby-operator">==</span> <span class="ruby-string">'%%'</span>
        <span class="ruby-string">'%'</span>
      <span class="ruby-keyword">else</span>
        <span class="ruby-identifier">key</span> = (<span class="ruby-node">$1</span> <span class="ruby-operator">||</span> <span class="ruby-node">$2</span>).<span class="ruby-identifier">to_sym</span>
        <span class="ruby-identifier">raise</span> <span class="ruby-constant">KeyError</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">has_key?</span>(<span class="ruby-identifier">key</span>)
        <span class="ruby-node">$3</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">sprintf</span>(<span class="ruby-node">&quot;%#{$3}&quot;</span>, <span class="ruby-identifier">args</span>[<span class="ruby-identifier">key</span>]) <span class="ruby-operator">:</span> <span class="ruby-identifier">args</span>[<span class="ruby-identifier">key</span>]
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">elsif</span> <span class="ruby-keyword">self</span> <span class="ruby-operator">=~</span> <span class="ruby-constant">INTERPOLATION_PATTERN</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">'one hash required'</span>)
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">result</span> = <span class="ruby-identifier">gsub</span>(<span class="ruby-regexp">/%([{&lt;])/</span>, <span class="ruby-string">'%%\1'</span>)
    <span class="ruby-identifier">result</span>.<span class="ruby-identifier">send</span> <span class="ruby-value">:'interpolate_without_ruby_19_syntax'</span>, <span class="ruby-identifier">args</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- 25-source -->
            
          </div>

          
          <div class="aliases">
            Also aliased as: <a href="String.html#method-i-interpolate_without_ruby_19_syntax">interpolate_without_ruby_19_syntax</a>
          </div>
          

          
        </div><!-- 25-method -->

      
        <div id="interpolate_without_ruby_19_syntax-method" class="method-detail method-alias">
          <a name="method-i-interpolate_without_ruby_19_syntax"></a>

          
          <div class="method-heading">
            <span class="method-name">interpolate_without_ruby_19_syntax</span><span
              class="method-args">(args)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            
            

            
          </div>

          

          
          <div class="aliases">
            Alias for: <a href="String.html#method-i-25">%</a>
          </div>
          
        </div><!-- interpolate_without_ruby_19_syntax-method -->

      
      </div><!-- public-instance-method-details -->
    
    </div><!-- 5Buntitled-5D -->
  

  </div><!-- documentation -->

  <div id="validator-badges">
    <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
    <p><small>Generated with the <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish
      Rdoc Generator</a> 2</small>.</p>
  </div>

</body>
</html>

