<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <meta content="text/html; charset=IBM437" http-equiv="Content-Type" />

  <title>File: README [ffi-1.9.3-x86-mingw32 Documentation]</title>

  <link type="text/css" media="screen" href="../../../rdoc.css" rel="stylesheet" />

  <script src="../../../js/jquery.js" type="text/javascript"
    charset="utf-8"></script>
  <script src="../../../js/thickbox-compressed.js" type="text/javascript"
    charset="utf-8"></script>
  <script src="../../../js/quicksearch.js" type="text/javascript"
    charset="utf-8"></script>
  <script src="../../../js/darkfish.js" type="text/javascript"
    charset="utf-8"></script>
</head>

<body class="file">
  <div id="metadata">
    <div id="home-metadata">
      <div id="home-section" class="section">
        <h3 class="section-header">
          <a href="../../../index.html">Home</a>
          <a href="../../../index.html#classes">Classes</a>
          <a href="../../../index.html#methods">Methods</a>
        </h3>
      </div>
    </div>

    <div id="project-metadata">
      
      
      <div id="fileindex-section" class="section project-section">
        <h3 class="section-header">Files</h3>
        <ul>
        
          <li class="file"><a href="../../../ext/ffi_c/libffi/ChangeLog.html">ChangeLog</a></li>
        
          <li class="file"><a href="../../../ext/ffi_c/libffi/LICENSE.html">LICENSE</a></li>
        
          <li class="file"><a href="../../../ext/ffi_c/libffi/README.html">README</a></li>
        
          <li class="file"><a href="../../../ext/ffi_c/libffi/compile.html">compile</a></li>
        
          <li class="file"><a href="../../../ext/ffi_c/libffi/configure.html">configure</a></li>
        
          <li class="file"><a href="../../../ext/ffi_c/libffi/depcomp.html">depcomp</a></li>
        
          <li class="file"><a href="../../../ext/ffi_c/libffi/doc/stamp-vti.html">stamp-vti</a></li>
        
          <li class="file"><a href="../../../ext/ffi_c/libffi/install-sh.html">install-sh</a></li>
        
          <li class="file"><a href="../../../ext/ffi_c/libffi/libtool-version.html">libtool-version</a></li>
        
          <li class="file"><a href="../../../ext/ffi_c/libffi/mdate-sh.html">mdate-sh</a></li>
        
          <li class="file"><a href="../../../ext/ffi_c/libffi/missing.html">missing</a></li>
        
        </ul>
      </div>
      

      <div id="classindex-section" class="section project-section">
        <h3 class="section-header">Class Index
          <span class="search-toggle"><img src="../../../images/find.png"
            height="16" width="16" alt="[+]"
            title="show/hide quicksearch" /></span></h3>
        <form action="#" method="get" accept-charset="utf-8" class="initially-hidden">
        <fieldset>
          <legend>Quicksearch</legend>
          <input type="text" name="quicksearch" value=""
            class="quicksearch-field" />
        </fieldset>
        </form>

        <ul class="link-list">
        
          <li><a href="../../../FFI.html">FFI</a></li>
        
          <li><a href="../../../FFI/AutoPointer.html">FFI::AutoPointer</a></li>
        
          <li><a href="../../../FFI/AutoPointer/CallableReleaser.html">FFI::AutoPointer::CallableReleaser</a></li>
        
          <li><a href="../../../FFI/AutoPointer/DefaultReleaser.html">FFI::AutoPointer::DefaultReleaser</a></li>
        
          <li><a href="../../../FFI/AutoPointer/Releaser.html">FFI::AutoPointer::Releaser</a></li>
        
          <li><a href="../../../FFI/ConstGenerator.html">FFI::ConstGenerator</a></li>
        
          <li><a href="../../../FFI/ConstGenerator/Constant.html">FFI::ConstGenerator::Constant</a></li>
        
          <li><a href="../../../FFI/Enum.html">FFI::Enum</a></li>
        
          <li><a href="../../../FFI/Enums.html">FFI::Enums</a></li>
        
          <li><a href="../../../FFI/Function.html">FFI::Function</a></li>
        
          <li><a href="../../../FFI/FunctionType.html">FFI::FunctionType</a></li>
        
          <li><a href="../../../FFI/Generator.html">FFI::Generator</a></li>
        
          <li><a href="../../../FFI/Generator/Task.html">FFI::Generator::Task</a></li>
        
          <li><a href="../../../FFI/IO.html">FFI::IO</a></li>
        
          <li><a href="../../../FFI/LastError.html">FFI::LastError</a></li>
        
          <li><a href="../../../FFI/Library.html">FFI::Library</a></li>
        
          <li><a href="../../../FFI/ManagedStruct.html">FFI::ManagedStruct</a></li>
        
          <li><a href="../../../FFI/MemoryPointer.html">FFI::MemoryPointer</a></li>
        
          <li><a href="../../../FFI/NativeType.html">FFI::NativeType</a></li>
        
          <li><a href="../../../FFI/NotFoundError.html">FFI::NotFoundError</a></li>
        
          <li><a href="../../../FFI/Platform.html">FFI::Platform</a></li>
        
          <li><a href="../../../FFI/PlatformError.html">FFI::PlatformError</a></li>
        
          <li><a href="../../../FFI/Pointer.html">FFI::Pointer</a></li>
        
          <li><a href="../../../FFI/StrPtrConverter.html">FFI::StrPtrConverter</a></li>
        
          <li><a href="../../../FFI/Struct.html">FFI::Struct</a></li>
        
          <li><a href="../../../FFI/Struct/InlineArray.html">FFI::Struct::InlineArray</a></li>
        
          <li><a href="../../../FFI/Struct/ManagedStructConverter.html">FFI::Struct::ManagedStructConverter</a></li>
        
          <li><a href="../../../FFI/StructByReference.html">FFI::StructByReference</a></li>
        
          <li><a href="../../../FFI/StructByValue.html">FFI::StructByValue</a></li>
        
          <li><a href="../../../FFI/StructGenerator.html">FFI::StructGenerator</a></li>
        
          <li><a href="../../../FFI/StructGenerator/Field.html">FFI::StructGenerator::Field</a></li>
        
          <li><a href="../../../FFI/StructLayout.html">FFI::StructLayout</a></li>
        
          <li><a href="../../../FFI/StructLayout/Array.html">FFI::StructLayout::Array</a></li>
        
          <li><a href="../../../FFI/StructLayout/Enum.html">FFI::StructLayout::Enum</a></li>
        
          <li><a href="../../../FFI/StructLayout/Field.html">FFI::StructLayout::Field</a></li>
        
          <li><a href="../../../FFI/StructLayout/Function.html">FFI::StructLayout::Function</a></li>
        
          <li><a href="../../../FFI/StructLayout/InnerStruct.html">FFI::StructLayout::InnerStruct</a></li>
        
          <li><a href="../../../FFI/StructLayout/Mapped.html">FFI::StructLayout::Mapped</a></li>
        
          <li><a href="../../../FFI/StructLayout/Number.html">FFI::StructLayout::Number</a></li>
        
          <li><a href="../../../FFI/StructLayout/Pointer.html">FFI::StructLayout::Pointer</a></li>
        
          <li><a href="../../../FFI/StructLayout/String.html">FFI::StructLayout::String</a></li>
        
          <li><a href="../../../FFI/StructLayoutBuilder.html">FFI::StructLayoutBuilder</a></li>
        
          <li><a href="../../../FFI/Type.html">FFI::Type</a></li>
        
          <li><a href="../../../FFI/Type/Builtin.html">FFI::Type::Builtin</a></li>
        
          <li><a href="../../../FFI/TypesGenerator.html">FFI::TypesGenerator</a></li>
        
          <li><a href="../../../FFI/Union.html">FFI::Union</a></li>
        
          <li><a href="../../../FFI/VariadicInvoker.html">FFI::VariadicInvoker</a></li>
        
        </ul>
        <div id="no-class-search-results" style="display: none;">No matching classes.</div>
      </div>

      
    </div>
  </div>

  <div id="documentation">
    
<p>Status</p>

<h6></h6>

<p>libffi-3.0.10 was released on August 23, 2011. Check the libffi web page
for updates: &lt;URL:<a
href="http://sourceware.org/libffi/">sourceware.org/libffi/</a>&gt;.</p>

<p>What is libffi?</p>

<h15></h15>

<p>Compilers for high level languages generate code that follow certain
conventions. These conventions are necessary, in part, for separate
compilation to work. One such convention is the "calling convention". The
"calling convention" is essentially a set of assumptions made by the
compiler about where function arguments will be found on entry to a
function. A "calling convention" also specifies where the return value for
a function is found.</p>

<p>Some programs may not know at the time of compilation what arguments are to
be passed to a function. For instance, an interpreter may be told at
run-time about the number and types of arguments used to call a given
function. Libffi can be used in such programs to provide a bridge from the
interpreter program to compiled code.</p>

<p>The libffi library provides a portable, high level programming interface to
various calling conventions. This allows a programmer to call any function
specified by a call interface description at run time.</p>

<p><a href="../../../FFI.html">FFI</a> stands for Foreign Function Interface. 
A foreign function interface is the popular name for the interface that
allows code written in one language to call code written in another
language. The libffi library really only provides the lowest, machine
dependent layer of a fully featured foreign function interface. A layer
must exist above libffi that handles type conversions for values passed
between the two languages.</p>

<p>Supported Platforms</p>

<h19></h19>

<p>Libffi has been ported to many different platforms. For specific
configuration details and testing status, please refer to the wiki page
here:</p>

<pre>http://www.moxielogic.org/wiki/index.php?title=Libffi_3.0.10</pre>

<p>At the time of release, the following basic configurations have been
tested:</p>

<p>|--------------+------------------| | Architecture | Operating System |
|--------------+------------------| | Alpha        | Linux            | |
Alpha        | Tru64            | | ARM          | Linux            | | ARM
| iOS              | | AVR32        | Linux            | | HPPA         |
HPUX             | | IA-64        | Linux            | | M68K         |
RTEMS            | | MIPS         | IRIX             | | MIPS         |
Linux            | | MIPS         | RTEMS            | | MIPS64       |
Linux            | | PowerPC      | Linux            | | PowerPC      | Mac
OSX          | | PowerPC      | FreeBSD          | | PowerPC64    | Linux  
| | S390         | Linux            | | S390X        | Linux            | |
SPARC        | Linux            | | SPARC        | Solaris          | |
SPARC64      | Linux            | | SPARC64      | FreeBSD          | | X86
| FreeBSD          | | X86          | Interix          | | X86          |
kFreeBSD         | | X86          | Linux            | | X86          | Mac
OSX          | | X86          | OpenBSD          | | X86          | OS/2   
| | X86          | Solaris          | | X86          | Windows/Cygwin   | |
X86          | Windows/MingW    | | X86-64       | FreeBSD          | |
X86-64       | Linux            | | X86-64       | OpenBSD          | |
X86-64       | Windows/MingW    | |--------------+------------------|</p>

<p>Please send additional platform test results to
libffi-discuss@sourceware.org and feel free to update the wiki page above.</p>

<p>Installing libffi</p>

<h17></h17>

<p>First you must configure the distribution for your particular system. Go to
the directory you wish to build libffi in and run the "configure" program
found in the root directory of the libffi source distribution.</p>

<p>You may want to tell configure where to install the libffi library and
header files. To do that, use the --prefix configure switch.  Libffi will
install under /usr/local by default.</p>

<p>If you want to enable extra run-time debugging checks use the the
--enable-debug configure switch. This is useful when your program dies
mysteriously while using libffi.</p>

<p>Another useful configure switch is --enable-purify-safety. Using this will
add some extra code which will suppress certain warnings when you are using
Purify with libffi. Only use this switch when using  Purify, as it will
slow down the library.</p>

<p>It's also possible to build libffi on Windows platforms with Microsoft's
Visual C++ compiler.  In this case, use the msvcc.sh wrapper script during
configuration like so:</p>

<p>path/to/configure CC=path/to/msvcc.sh LD=link CPP="cl -nologo -EP"</p>

<p>For 64-bit Windows builds, use CC="path/to/msvcc.sh -m64". You may also
need to specify --build appropriately. When building with MSVC under a
MingW environment, you may need to remove the line in configure that sets
'fix_srcfile_path' to a 'cygpath' command. ('cygpath' is not present in
MingW, and is not required when using MingW-style paths.)</p>

<p>For iOS builds, refer to the build-ios.sh script for guidance.</p>

<p>Configure has many other options. Use "configure --help" to see them all.</p>

<p>Once configure has finished, type "make". Note that you must be using GNU
make.  You can ftp GNU make from prep.ai.mit.edu:/pub/gnu.</p>

<p>To ensure that libffi is working as advertised, type "make check". This
will require that you have DejaGNU installed.</p>

<p>To install the library and header files, type "make install".</p>

<p>History</p>

<h7></h7>

<p>See the ChangeLog files for details.</p>

<p>3.0.10 Aug-23-11</p>

<pre>Add support for Apple's iOS.
Add support for ARM VFP ABI.
Add RTEMS support for MIPS and M68K.
Fix instruction cache clearing problems on
  ARM and SPARC.
Fix the N64 build on mips-sgi-irix6.5.
Enable builds with Microsoft's compiler.
Enable x86 builds with Oracle's Solaris compiler.
Fix support for calling code compiled with Oracle's Sparc
  Solaris compiler.
Testsuite fixes for Tru64 Unix.
Additional platform support.</pre>

<p>3.0.9 Dec-31-09</p>

<pre>Add AVR32 and win64 ports.  Add ARM softfp support.
Many fixes for AIX, Solaris, HP-UX, *BSD.
Several PowerPC and x86-64 bug fixes.
Build DLL for windows.</pre>

<p>3.0.8 Dec-19-08</p>

<pre>Add *BSD, BeOS, and PA-Linux support.</pre>

<p>3.0.7 Nov-11-08</p>

<pre>Fix for ppc FreeBSD.
(thanks to Andreas Tobler)</pre>

<p>3.0.6 Jul-17-08</p>

<pre>Fix for closures on sh.
Mark the sh/sh64 stack as non-executable.
(both thanks to Kaz Kojima)</pre>

<p>3.0.5 Apr-3-08</p>

<pre>Fix libffi.pc file.
Fix #define ARM for IcedTea users.
Fix x86 closure bug.</pre>

<p>3.0.4 Feb-24-08</p>

<pre>Fix x86 OpenBSD configury.</pre>

<p>3.0.3 Feb-22-08</p>

<pre>Enable x86 OpenBSD thanks to Thomas Heller, and
x86-64 FreeBSD thanks to Björn König and Andreas Tobler.
Clean up test instruction in README.</pre>

<p>3.0.2 Feb-21-08</p>

<pre>Improved x86 FreeBSD support.
Thanks to Björn König.</pre>

<p>3.0.1 Feb-15-08</p>

<pre>Fix instruction cache flushing bug on MIPS.
Thanks to David Daney.</pre>

<p>3.0.0 Feb-15-08</p>

<pre>      Many changes, mostly thanks to the GCC project.
      Cygnus Solutions is now Red Hat.

[10 years go by...]</pre>

<p>1.20 Oct-5-98</p>

<pre>Raffaele Sena produces ARM port.</pre>

<p>1.19 Oct-5-98</p>

<pre>Fixed x86 long double and long long return support.
m68k bug fixes from Andreas Schwab.
Patch for DU assembler compatibility for the Alpha from Richard
Henderson.</pre>

<p>1.18 Apr-17-98</p>

<pre>Bug fixes and MIPS configuration changes.</pre>

<p>1.17 Feb-24-98</p>

<pre>Bug fixes and m68k port from Andreas Schwab. PowerPC port from
Geoffrey Keating. Various bug x86, Sparc and MIPS bug fixes.</pre>

<p>1.16 Feb-11-98</p>

<pre>Richard Henderson produces Alpha port.</pre>

<p>1.15 Dec-4-97</p>

<pre>Fixed an n32 ABI bug. New libtool, auto* support.</pre>

<p>1.14 May-13-97</p>

<pre>libtool is now used to generate shared and static libraries.
Fixed a minor portability problem reported by Russ McManus
&lt;mcmanr@eq.gs.com&gt;.</pre>

<p>1.13 Dec-2-96</p>

<pre>Added --enable-purify-safety to keep Purify from complaining
about certain low level code.
Sparc fix for calling functions with &lt; 6 args.
Linux x86 a.out fix.</pre>

<p>1.12 Nov-22-96</p>

<pre>Added missing ffi_type_void, needed for supporting void return 
types. Fixed test case for non MIPS machines. Cygnus Support 
is now Cygnus Solutions.</pre>

<p>1.11 Oct-30-96</p>

<pre>Added notes about GNU make.</pre>

<p>1.10 Oct-29-96</p>

<pre>Added configuration fix for non GNU compilers.</pre>

<p>1.09 Oct-29-96</p>

<pre>Added --enable-debug configure switch. Clean-ups based on LCLint 
feedback. ffi_mips.h is always installed. Many configuration 
fixes. Fixed ffitest.c for sparc builds.</pre>

<p>1.08 Oct-15-96</p>

<pre>Fixed n32 problem. Many clean-ups.</pre>

<p>1.07 Oct-14-96</p>

<pre>Gordon Irlam rewrites v8.S again. Bug fixes.</pre>

<p>1.06 Oct-14-96</p>

<pre>Gordon Irlam improved the sparc port.</pre>

<p>1.05 Oct-14-96</p>

<pre>Interface changes based on feedback.</pre>

<p>1.04 Oct-11-96</p>

<pre>Sparc port complete (modulo struct passing bug).</pre>

<p>1.03 Oct-10-96</p>

<pre>Passing struct args, and returning struct values works for
all architectures/calling conventions. Expanded tests.</pre>

<p>1.02 Oct-9-96</p>

<pre>Added SGI n32 support. Fixed bugs in both o32 and Linux support.
Added &quot;make test&quot;.</pre>

<p>1.01 Oct-8-96</p>

<pre>Fixed float passing bug in mips version. Restructured some
of the code. Builds cleanly with SGI tools.</pre>

<p>1.00 Oct-7-96</p>

<pre>First release. No public announcement.</pre>

<p>Authors &amp; Credits</p>

<h17></h17>

<p>libffi was originally written by Anthony Green &lt;green@redhat.com&gt;.</p>

<p>The developers of the GNU Compiler Collection project have made innumerable
valuable contributions.  See the ChangeLog file for details.</p>

<p>Some of the ideas behind libffi were inspired by Gianni Mariani's free
gencall library for Silicon Graphics machines.</p>

<p>The closure mechanism was designed and implemented by Kresten Krab Thorup.</p>

<p>Major processor architecture ports were contributed by the following
developers:</p>

<p>alpha           Richard Henderson arm             Raffaele Sena cris       
Simon Posnjak, Hans-Peter Nilsson frv             Anthony Green ia64       
Hans Boehm m32r            Kazuhiro Inaoka m68k            Andreas Schwab
mips            Anthony Green, Casey Marshall mips64          David Daney
pa              Randolph Chung, Dave Anglin, Andreas Tobler powerpc        
Geoffrey Keating, Andreas Tobler,</p>

<pre>David Edelsohn, John Hornkvist</pre>

<p>powerpc64       Jakub Jelinek s390            Gerhard Tonn, Ulrich Weigand
sh              Kaz Kojima sh64            Kaz Kojima sparc          
Anthony Green, Gordon Irlam x86             Anthony Green, Jon Beniston
x86-64          Bo Thorsen</p>

<p>Jesper Skov and Andrew Haley both did more than their fair share of
stepping through the code and tracking down bugs.</p>

<p>Thanks also to Tom Tromey for bug fixes, documentation and configuration
help.</p>

<p>Thanks to Jim Blandy, who provided some useful feedback on the libffi
interface.</p>

<p>Andreas Tobler has done a tremendous amount of work on the testsuite.</p>

<p>Alex Oliva solved the executable page problem for SElinux.</p>

<p>The list above is almost certainly incomplete and inaccurate.  I'm happy to
make corrections or additions upon request.</p>

<p>If you have a problem, or have found a bug, please send a note to the
author at green@moxielogic.com, or the project mailing list at
libffi-discuss@sourceware.org.</p>

  </div>

  <div id="validator-badges">
    <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
    <p><small>Generated with the <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish
      Rdoc Generator</a> 2</small>.</p>
  </div>
</body>
</html>

